<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>지금밈 - 글로벌 유행 트렌드</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Pretendard', sans-serif; background-color: #f8fafc; }
        .meme-card { transition: transform 0.2s; }
        .meme-card:active { transform: scale(0.95); }
    </style>
</head>
<body>
    <div class="max-w-md mx-auto min-h-screen pb-20">
        <header class="p-6 pt-10">
            <h1 class="text-4xl font-black text-indigo-600 tracking-tighter">지금밈</h1>
            <p class="text-slate-500 font-medium mt-1">오늘의 유행을 한눈에</p>
        </header>

        <main id="meme-list" class="px-6 space-y-4">
            <div class="animate-pulse text-slate-400">트렌드 불러오는 중...</div>
        </main>
    </div>

    <script>
        async function loadMemes() {
            try {
                const response = await fetch('./trends.json?v=' + Date.now());
                const data = await response.json();
                const krList = data.KR[0].list;
                
                const container = document.getElementById('meme-list');
                container.innerHTML = ''; // 로딩 문구 제거

                krList.forEach((item, index) => {
                    const card = document.createElement('div');
                    card.className = 'meme-card bg-white p-5 rounded-3xl shadow-sm border border-slate-100 flex justify-between items-center';
                    card.onclick = () => window.open(item.link, '_blank');
                    
                    card.innerHTML = `
                        <div>
                            <span class="text-indigo-500 font-bold text-sm">HOT ${index + 1}</span>
                            <h3 class="text-lg font-extrabold text-slate-800">${item.title}</h3>
                        </div>
                        <div class="bg-indigo-50 p-2 rounded-full">
                            <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M9 5l7 7-7 7"></path></svg>
                        </div>
                    `;
                    container.appendChild(card);
                });
            } catch (error) {
                document.getElementById('meme-list').innerHTML = `<div class="text-red-500 text-center font-bold">데이터를 가져오지 못했습니다.<br>trends.json 파일을 확인해주세요.</div>`;
            }
        }

        loadMemes();
    </script>
</body>
</html>
